{"version":3,"file":"index.es.js","sources":["../src/utils.js","../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js","../src/Rect/index.js","../src/index.js"],"sourcesContent":["export const getLength = (x, y) => Math.sqrt(x * x + y * y)\n\nexport const getAngle = ({ x: x1, y: y1 }, { x: x2, y: y2 }) => {\n  const dot = x1 * x2 + y1 * y2\n  const det = x1 * y2 - y1 * x2\n  const angle = (Math.atan2(det, dot) / Math.PI) * 180\n  return (angle + 360) % 360\n}\n\nexport const degToRadian = (deg) => (deg * Math.PI) / 180\n\nconst cos = (deg) => Math.cos(degToRadian(deg))\nconst sin = (deg) => Math.sin(degToRadian(deg))\n\nconst setWidthAndDeltaW = (width, deltaW, minWidth) => {\n  const expectedWidth = width + deltaW\n  if (expectedWidth > minWidth) {\n    width = expectedWidth\n  } else {\n    deltaW = minWidth - width\n    width = minWidth\n  }\n  return { width, deltaW }\n}\n\nconst setHeightAndDeltaH = (height, deltaH, minHeight) => {\n  const expectedHeight = height + deltaH\n  if (expectedHeight > minHeight) {\n    height = expectedHeight\n  } else {\n    deltaH = minHeight - height\n    height = minHeight\n  }\n  return { height, deltaH }\n}\n\nexport const getNewStyle = (\n  type,\n  rect,\n  deltaW,\n  deltaH,\n  ratio,\n  minWidth,\n  minHeight\n) => {\n  let { width, height, centerX, centerY, rotateAngle } = rect\n  const widthFlag = width < 0 ? -1 : 1\n  const heightFlag = height < 0 ? -1 : 1\n  width = Math.abs(width)\n  height = Math.abs(height)\n  switch (type) {\n    case 'r': {\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      if (ratio) {\n        deltaH = deltaW / ratio\n        height = width / ratio\n        // 左上角固定\n        centerX +=\n          (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\n        centerY +=\n          (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\n      } else {\n        // 左边固定\n        centerX += (deltaW / 2) * cos(rotateAngle)\n        centerY += (deltaW / 2) * sin(rotateAngle)\n      }\n      break\n    }\n    case 'tr': {\n      deltaH = -deltaH\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n      }\n      centerX +=\n        (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\n      centerY +=\n        (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\n      break\n    }\n    case 'br': {\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n      }\n      centerX +=\n        (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\n      centerY +=\n        (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\n      break\n    }\n    case 'b': {\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        deltaW = deltaH * ratio\n        width = height * ratio\n        // 左上角固定\n        centerX +=\n          (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\n        centerY +=\n          (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\n      } else {\n        // 上边固定\n        centerX -= (deltaH / 2) * sin(rotateAngle)\n        centerY += (deltaH / 2) * cos(rotateAngle)\n      }\n      break\n    }\n    case 'bl': {\n      deltaW = -deltaW\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        height = width / ratio\n        deltaH = deltaW / ratio\n      }\n      centerX -=\n        (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\n      centerY -=\n        (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\n      break\n    }\n    case 'l': {\n      deltaW = -deltaW\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      if (ratio) {\n        height = width / ratio\n        deltaH = deltaW / ratio\n        // 右上角固定\n        centerX -=\n          (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\n        centerY -=\n          (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\n      } else {\n        // 右边固定\n        centerX -= (deltaW / 2) * cos(rotateAngle)\n        centerY -= (deltaW / 2) * sin(rotateAngle)\n      }\n      break\n    }\n    case 'tl': {\n      deltaW = -deltaW\n      deltaH = -deltaH\n      const widthAndDeltaW = setWidthAndDeltaW(width, deltaW, minWidth)\n      width = widthAndDeltaW.width\n      deltaW = widthAndDeltaW.deltaW\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        width = height * ratio\n        deltaW = deltaH * ratio\n      }\n      centerX -=\n        (deltaW / 2) * cos(rotateAngle) - (deltaH / 2) * sin(rotateAngle)\n      centerY -=\n        (deltaW / 2) * sin(rotateAngle) + (deltaH / 2) * cos(rotateAngle)\n      break\n    }\n    case 't': {\n      deltaH = -deltaH\n      const heightAndDeltaH = setHeightAndDeltaH(height, deltaH, minHeight)\n      height = heightAndDeltaH.height\n      deltaH = heightAndDeltaH.deltaH\n      if (ratio) {\n        width = height * ratio\n        deltaW = deltaH * ratio\n        // 左下角固定\n        centerX +=\n          (deltaW / 2) * cos(rotateAngle) + (deltaH / 2) * sin(rotateAngle)\n        centerY +=\n          (deltaW / 2) * sin(rotateAngle) - (deltaH / 2) * cos(rotateAngle)\n      } else {\n        centerX += (deltaH / 2) * sin(rotateAngle)\n        centerY -= (deltaH / 2) * cos(rotateAngle)\n      }\n      break\n    }\n  }\n\n  return {\n    position: {\n      centerX,\n      centerY\n    },\n    size: {\n      width: width * widthFlag,\n      height: height * heightFlag\n    }\n  }\n}\n\nconst cursorStartMap = { n: 0, ne: 1, e: 2, se: 3, s: 4, sw: 5, w: 6, nw: 7 }\nconst cursorDirectionArray = ['n', 'ne', 'e', 'se', 's', 'sw', 'w', 'nw']\nconst cursorMap = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 2,\n  4: 3,\n  5: 4,\n  6: 4,\n  7: 5,\n  8: 6,\n  9: 6,\n  10: 7,\n  11: 8\n}\nexport const getCursor = (rotateAngle, d) => {\n  const increment = cursorMap[Math.floor(rotateAngle / 30)]\n  const index = cursorStartMap[d]\n  const newIndex = (index + increment) % 8\n  return cursorDirectionArray[newIndex]\n}\n\nexport const centerToTL = ({\n  centerX,\n  centerY,\n  width,\n  height,\n  rotateAngle\n}) => ({\n  top: centerY - height / 2,\n  left: centerX - width / 2,\n  width,\n  height,\n  rotateAngle\n})\n\nexport const tLToCenter = ({ top, left, width, height, rotateAngle }) => ({\n  position: {\n    centerX: left + width / 2,\n    centerY: top + height / 2\n  },\n  size: {\n    width,\n    height\n  },\n  transform: {\n    rotateAngle\n  }\n})\n\nexport const isOutOfBoundary = (\n  left,\n  top,\n  width,\n  height,\n  haveBoundary,\n  itemId\n) => {\n  const parentElement = document.getElementById(itemId).parentElement\n\n  if (\n    haveBoundary &&\n    (left < 0 ||\n      left + width >= parentElement.offsetWidth ||\n      top < 0 ||\n      top + height >= parentElement.offsetHeight)\n  ) {\n    return true\n  }\n\n  return false\n}\n","var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export{n as default};\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { getLength, getAngle, getCursor } from '../utils'\n\nimport './index.css'\n\nconst zoomableMap = {\n  n: 't',\n  s: 'b',\n  e: 'r',\n  w: 'l',\n  ne: 'tr',\n  nw: 'tl',\n  se: 'br',\n  sw: 'bl'\n}\n\nexport default class Rect extends PureComponent {\n  static propTypes = {\n    styles: PropTypes.object,\n    zoomable: PropTypes.string,\n    rotatable: PropTypes.bool,\n    onResizeStart: PropTypes.func,\n    onResize: PropTypes.func,\n    onResizeEnd: PropTypes.func,\n    onRotateStart: PropTypes.func,\n    onRotate: PropTypes.func,\n    onRotateEnd: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    parentRotateAngle: PropTypes.number,\n    children: PropTypes.node,\n    color: PropTypes.color,\n    itemId: PropTypes.string,\n    focusChange: PropTypes.bool,\n    defaultFocus: PropTypes.bool,\n    isDraggable: PropTypes.bool,\n    onFocusChange: PropTypes.func,\n    zIndex: PropTypes.number\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isFocused: props.defaultFocus ?? false\n    }\n  }\n\n  setElementRef = (ref) => {\n    this.$element = ref\n  }\n\n  componentDidUpdate() {\n    const { onFocusChange } = this.props\n    onFocusChange && onFocusChange(this.state.isFocused)\n  }\n\n  // Drag\n  startDrag = (e) => {\n    let { clientX: startX, clientY: startY } = e\n    this.props.onDragStart && this.props.onDragStart()\n    this._isMouseDown = true\n    const onMove = (e) => {\n      if (!this._isMouseDown) return // patch: fix windows press win key during mouseup issue\n      e.stopImmediatePropagation()\n      const { clientX, clientY } = e\n      const deltaX = clientX - startX\n      const deltaY = clientY - startY\n      this.props.onDrag(deltaX, deltaY)\n      startX = clientX\n      startY = clientY\n    }\n    const onUp = () => {\n      document.removeEventListener('mousemove', onMove)\n      document.removeEventListener('mouseup', onUp)\n      if (!this._isMouseDown) return\n      this._isMouseDown = false\n      this.props.onDragEnd && this.props.onDragEnd()\n    }\n    document.addEventListener('mousemove', onMove)\n    document.addEventListener('mouseup', onUp)\n  }\n\n  // Rotate\n  startRotate = (e) => {\n    if (e.button !== 0) return\n    const { clientX, clientY } = e\n    const {\n      styles: {\n        transform: { rotateAngle: startAngle }\n      }\n    } = this.props\n    const rect = this.$element.getBoundingClientRect()\n    const center = {\n      x: rect.left + rect.width / 2,\n      y: rect.top + rect.height / 2\n    }\n    const startVector = {\n      x: clientX - center.x,\n      y: clientY - center.y\n    }\n    this.props.onRotateStart && this.props.onRotateStart()\n    this._isMouseDown = true\n    const onMove = (e) => {\n      if (!this._isMouseDown) return // patch: fix windows press win key during mouseup issue\n      e.stopImmediatePropagation()\n      const { clientX, clientY } = e\n      const rotateVector = {\n        x: clientX - center.x,\n        y: clientY - center.y\n      }\n      const angle = getAngle(startVector, rotateVector)\n      this.props.onRotate(angle, startAngle)\n    }\n    const onUp = () => {\n      document.removeEventListener('mousemove', onMove)\n      document.removeEventListener('mouseup', onUp)\n      if (!this._isMouseDown) return\n      this._isMouseDown = false\n      this.props.onRotateEnd && this.props.onRotateEnd()\n    }\n    document.addEventListener('mousemove', onMove)\n    document.addEventListener('mouseup', onUp)\n  }\n\n  // Resize\n  startResize = (e, cursor) => {\n    if (e.button !== 0) return\n    document.body.style.cursor = cursor\n    const {\n      styles: {\n        position: { centerX, centerY },\n        size: { width, height },\n        transform: { rotateAngle }\n      }\n    } = this.props\n    const { clientX: startX, clientY: startY } = e\n    const rect = { width, height, centerX, centerY, rotateAngle }\n    const type = e.target.getAttribute('class').split(' ')[0]\n    this.props.onResizeStart && this.props.onResizeStart()\n    this._isMouseDown = true\n    const onMove = (e) => {\n      if (!this._isMouseDown) return // patch: fix windows press win key during mouseup issue\n      e.stopImmediatePropagation()\n      const { clientX, clientY } = e\n      const deltaX = clientX - startX\n      const deltaY = clientY - startY\n      const alpha = Math.atan2(deltaY, deltaX)\n      const deltaL = getLength(deltaX, deltaY)\n      const isShiftKey = e.shiftKey\n      this.props.onResize(deltaL, alpha, rect, type, isShiftKey)\n    }\n\n    const onUp = () => {\n      document.body.style.cursor = 'auto'\n      document.removeEventListener('mousemove', onMove)\n      document.removeEventListener('mouseup', onUp)\n      if (!this._isMouseDown) return\n      this._isMouseDown = false\n      this.props.onResizeEnd && this.props.onResizeEnd()\n    }\n\n    document.addEventListener('mousemove', onMove)\n    document.addEventListener('mouseup', onUp)\n  }\n\n  onArrowBasedResize = (e) => {\n    const {\n      styles: {\n        position: { centerX, centerY },\n        size: { width, height },\n        transform: { rotateAngle }\n      }\n    } = this.props\n\n    const { clientX: startX, clientY: startY } = e\n    const rect = { width, height, centerX, centerY, rotateAngle }\n\n    let shiftPlusArrowKeyPressCount = 0\n\n    const onKeyDown = (e) => {\n      if (e.shiftKey && (e.key === 'ArrowUp' || e.key === 'ArrowDown')) {\n        const deltaL =\n          e.key === 'ArrowUp'\n            ? ++shiftPlusArrowKeyPressCount\n            : --shiftPlusArrowKeyPressCount // resize by one pixel\n        const alpha = 0\n        const isShiftKey = true\n        this.props.onResize(deltaL, alpha, rect, 'r', isShiftKey)\n      }\n    }\n\n    const onKeyUp = (e) => {\n      if (e.shiftKey) return\n      document.removeEventListener('keydown', onKeyDown)\n      document.removeEventListener('keyup', onKeyUp)\n    }\n\n    document.addEventListener('keydown', onKeyDown)\n    document.addEventListener('keyup', onKeyUp)\n  }\n\n  render() {\n    const {\n      styles: {\n        position: { centerX, centerY },\n        size: { width, height },\n        transform: { rotateAngle }\n      },\n      zoomable,\n      rotatable,\n      parentRotateAngle,\n      children,\n      color,\n      itemId,\n      focusChange,\n      isDraggable,\n      zIndex\n    } = this.props\n\n    const style = {\n      width: isFocused ? Math.abs(width) : Math.abs(width) - 1,\n      height: isFocused ? Math.abs(height) : Math.abs(height) - 1,\n      transform: `rotate(${rotateAngle}deg)`,\n      left: centerX - Math.abs(width) / 2,\n      top: centerY - Math.abs(height) / 2\n    }\n\n    const direction = zoomable\n      .split(',')\n      .map((d) => d.trim())\n      .filter((d) => d) // TODO: may be speed up\n\n    const { isFocused } = this.state\n\n    return (\n      <>\n        {isFocused ? (\n          <div\n            id={itemId}\n            ref={this.setElementRef}\n            onMouseDown={this.startDrag}\n            className=\"rect single-resizer\"\n            style={{\n              ...style,\n              borderColor: color,\n              position: isDraggable ? 'absolute' : 'relative',\n              zIndex\n            }}\n            tabIndex=\"0\"\n            onFocus={() => focusChange && this.setState({ isFocused: true })}\n            onBlur={() => focusChange && this.setState({ isFocused: false })}\n            onClick={this.onArrowBasedResize}\n          >\n            {rotatable && (\n              <div className=\"rotate\" onMouseDown={this.startRotate}>\n                <svg width=\"14\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M10.536 3.464A5 5 0 1 0 11 10l1.424 1.425a7 7 0 1 1-.475-9.374L13.659.34A.2.2 0 0 1 14 .483V5.5a.5.5 0 0 1-.5.5H8.483a.2.2 0 0 1-.142-.341l2.195-2.195z\"\n                    fill={color}\n                    fillRule=\"nonzero\"\n                  />\n                </svg>\n              </div>\n            )}\n\n            {direction.map((d) => {\n              const cursor = `${getCursor(\n                rotateAngle + parentRotateAngle,\n                d\n              )}-resize`\n              return (\n                <div\n                  key={d}\n                  className={`${zoomableMap[d]} resizable-handler`}\n                  style={{ cursor }}\n                  onMouseDown={(e) => this.startResize(e, cursor)}\n                />\n              )\n            })}\n\n            {direction.map((d) => {\n              return (\n                <div\n                  key={d}\n                  className={`${zoomableMap[d]} square`}\n                  style={{ borderColor: color }}\n                />\n              )\n            })}\n\n            <div className=\"childContainer\">{children}</div>\n          </div>\n        ) : (\n          <div\n            id={itemId}\n            style={{\n              ...style,\n              position: isDraggable ? 'absolute' : 'relative'\n            }}\n            className=\"childContainer\"\n            onFocus={() => focusChange && this.setState({ isFocused: true })}\n            onBlur={() => focusChange && this.setState({ isFocused: false })}\n            tabIndex=\"0\"\n            onMouseDown={this.onArrowBasedResize}\n          >\n            {children}\n          </div>\n        )}\n      </>\n    )\n  }\n}\n","import React, { useEffect, useState } from 'react'\n// import { v4 as uuidv4 } from 'uuid'\n\nimport {\n  centerToTL,\n  tLToCenter,\n  getNewStyle,\n  degToRadian,\n  isOutOfBoundary\n} from './utils'\nimport Rect from './Rect'\n\nexport default function ResizableRect({\n  rotatable = true,\n  parentRotateAngle = 0,\n  zoomable = '',\n  minWidth = 10,\n  minHeight = 10,\n  aspectRatio,\n  onRotateStart,\n  onRotate,\n  onRotateEnd,\n  onResizeStart,\n  onResize,\n  onResizeEnd,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  children,\n  color = 'black',\n  haveBoundary = true,\n  defaultRotateAngle = 0,\n  defaultFocus = false,\n  focusChange = true,\n  id = 'default_id',\n  onFocusChange,\n\n  initValues,\n  height: propHeight,\n  width: propWidth,\n  top: propTop,\n  left: propLeft,\n  isDraggable = true, //\n  scale = 1,\n  zIndex = 1\n}) {\n  const [top, setTop] = useState(initValues?.top ?? 10)\n  const [left, setLeft] = useState(initValues?.left ?? 10)\n  const [width, setWidth] = useState(initValues?.width ?? 100)\n  const [height, setHeight] = useState(initValues?.height ?? 100)\n  const [rotateAngle, setRotateAngle] = useState(defaultRotateAngle)\n  // const [itemId, setItemId] = useState(uuidv4())\n  const [itemId, setItemId] = useState(id)\n\n  const styles = tLToCenter({ top, left, width, height, rotateAngle })\n\n  useEffect(() => {\n    if (propHeight) {\n      setHeight(propHeight)\n    }\n  }, [propHeight])\n\n  useEffect(() => {\n    if (propWidth) {\n      setWidth(propWidth)\n    }\n  }, [propWidth])\n\n  useEffect(() => {\n    if (propTop || propTop === 0) {\n      setTop(propTop)\n    }\n  }, [propTop])\n\n  useEffect(() => {\n    if (propLeft || propLeft === 0) {\n      setLeft(propLeft)\n    }\n  }, [propLeft])\n\n  const handleRotate = (angle, startAngle) => {\n    if (!onRotate) return\n    let rotateAngle = Math.round(startAngle + angle)\n    if (rotateAngle >= 360) {\n      rotateAngle -= 360\n    } else if (rotateAngle < 0) {\n      rotateAngle += 360\n    }\n    if (rotateAngle > 356 || rotateAngle < 4) {\n      rotateAngle = 0\n    } else if (rotateAngle > 86 && rotateAngle < 94) {\n      rotateAngle = 90\n    } else if (rotateAngle > 176 && rotateAngle < 184) {\n      rotateAngle = 180\n    } else if (rotateAngle > 266 && rotateAngle < 274) {\n      rotateAngle = 270\n    }\n\n    setRotateAngle(rotateAngle)\n    onRotate(rotateAngle)\n  }\n\n  const handleResize = (length, alpha, rect, type, isShiftKey) => {\n    if (!onResize) return\n\n    const beta = alpha - degToRadian(rotateAngle + parentRotateAngle)\n    const deltaW = (length * Math.cos(beta)) / scale\n    const deltaH = (length * Math.sin(beta)) / scale\n    const ratio =\n      isShiftKey && !aspectRatio ? rect.width / rect.height : aspectRatio\n    const {\n      position: { centerX, centerY },\n      size: { width, height }\n    } = getNewStyle(\n      type,\n      { ...rect, rotateAngle },\n      deltaW,\n      deltaH,\n      ratio,\n      minWidth,\n      minHeight\n    )\n\n    const values = centerToTL({ centerX, centerY, width, height, rotateAngle })\n\n    if (\n      isOutOfBoundary(\n        values.left,\n        values.top,\n        width,\n        height,\n        haveBoundary,\n        itemId\n      )\n    ) {\n      return\n    }\n\n    setHeight(height)\n    setWidth(width)\n\n    onResize(values, isShiftKey, type)\n  }\n\n  const handleDrag = (deltaX, deltaY) => {\n    if (!isDraggable) return\n\n    const newLeft = Math.round(left + deltaX / scale)\n    const newTop = Math.round(top + deltaY / scale)\n\n    if (isOutOfBoundary(newLeft, newTop, width, height, haveBoundary, itemId)) {\n      return\n    }\n\n    setLeft(newLeft)\n    setTop(newTop)\n    onDrag && onDrag(newLeft, newTop)\n  }\n\n  return (\n    <Rect\n      styles={styles}\n      zoomable={zoomable}\n      rotatable={Boolean(rotatable && onRotate)}\n      parentRotateAngle={parentRotateAngle}\n      onResizeStart={onResizeStart}\n      onResize={handleResize}\n      onResizeEnd={onResizeEnd}\n      onRotateStart={onRotateStart}\n      onRotate={handleRotate}\n      onRotateEnd={onRotateEnd}\n      onDragStart={onDragStart}\n      onDrag={handleDrag}\n      isDraggable={isDraggable}\n      onDragEnd={onDragEnd}\n      children={children}\n      color={color}\n      itemId={itemId}\n      defaultFocus={defaultFocus}\n      focusChange={focusChange}\n      onFocusChange={onFocusChange}\n      zIndex={zIndex}\n    />\n  )\n}\n"],"names":["getLength","x","y","Math","sqrt","getAngle","_ref","_ref2","x1","y1","x2","y2","dot","det","angle","atan2","PI","degToRadian","deg","cos","sin","setWidthAndDeltaW","width","deltaW","minWidth","expectedWidth","setHeightAndDeltaH","height","deltaH","minHeight","expectedHeight","getNewStyle","type","rect","ratio","centerX","centerY","rotateAngle","widthFlag","heightFlag","abs","widthAndDeltaW","heightAndDeltaH","position","size","cursorStartMap","n","ne","e","se","s","sw","w","nw","cursorDirectionArray","cursorMap","getCursor","d","increment","floor","index","newIndex","centerToTL","_ref3","top","left","tLToCenter","_ref4","transform","isOutOfBoundary","haveBoundary","itemId","parentElement","document","getElementById","offsetWidth","offsetHeight","zoomableMap","Rect","_PureComponent","_inherits","_super","_createSuper","props","_props$defaultFocus","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","ref","$element","startX","clientX","startY","clientY","onDragStart","_isMouseDown","onMove","stopImmediatePropagation","deltaX","deltaY","onDrag","onUp","removeEventListener","onDragEnd","addEventListener","button","startAngle","styles","getBoundingClientRect","center","startVector","onRotateStart","rotateVector","onRotate","onRotateEnd","cursor","body","style","_this$props$styles","_this$props$styles$po","_this$props$styles$si","target","getAttribute","split","onResizeStart","alpha","deltaL","isShiftKey","shiftKey","onResize","onResizeEnd","_this$props$styles2","_this$props$styles2$p","_this$props$styles2$s","shiftPlusArrowKeyPressCount","onKeyDown","key","onKeyUp","state","isFocused","defaultFocus","_createClass","value","componentDidUpdate","onFocusChange","render","_this2","_this$props","_this$props$styles3","_this$props$styles3$p","_this$props$styles3$s","zoomable","rotatable","parentRotateAngle","children","color","focusChange","isDraggable","zIndex","concat","direction","map","trim","filter","React","createElement","Fragment","id","setElementRef","onMouseDown","startDrag","className","_objectSpread","borderColor","tabIndex","onFocus","setState","onBlur","onClick","onArrowBasedResize","startRotate","xmlns","fill","fillRule","startResize","PureComponent","PropTypes","object","string","bool","func","number","node","ResizableRect","_initValues$top","_initValues$left","_initValues$width","_initValues$height","_ref$rotatable","_ref$parentRotateAngl","_ref$zoomable","_ref$minWidth","_ref$minHeight","aspectRatio","_ref$color","_ref$haveBoundary","_ref$defaultRotateAng","defaultRotateAngle","_ref$defaultFocus","_ref$focusChange","_ref$id","initValues","propHeight","propWidth","propTop","propLeft","_ref$isDraggable","_ref$scale","scale","_ref$zIndex","_useState","useState","_useState2","_slicedToArray","setTop","_useState3","_useState4","setLeft","_useState5","_useState6","setWidth","_useState7","_useState8","setHeight","_useState9","_useState10","setRotateAngle","_useState11","_useState12","setItemId","useEffect","handleRotate","round","handleResize","length","beta","_getNewStyle","_getNewStyle$position","_getNewStyle$size","values","handleDrag","newLeft","newTop","Boolean"],"mappings":"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"}